<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
// 反转成字符串 
var reverse = function(x) {
    let arr =  [...String(x)]
    for(let i = 0, j = arr.length - 1; j > i; i++, j--) {
        // es6换位
        [arr[i],arr[j]] = [arr[j], arr[i]]
    }
    if(arr.includes('-')) {
        arr.pop()
        arr.unshift('-')
    }
    let num = Number(arr.join(''))
    if (num > Math.pow(2, 31) - 1) {
        return 0
    }
    if (num < Math.pow(-2, 31) ) {
       return  num = 0
    }
    return num
};

// 数学解法
var reverse2 = function(x) {
    // if (x !== 0) {
    //     let digit = x % 10
    //     ~~(x / 10)
    // }
    
    // let count = 0
    // for(;x >=0;) {
    //     let digit = x % 10
    //     x = ~~(x / 10)
    //     count = count * 10 + digit
    // }
    // return count
    
    let count = 0
    while(x !== 0) {
        let digit = x % 10
        x = ~~(x / 10)
        count = count * 10 + digit
        if (count < -(2**31) || count > (2**31) - 1 ) {
            return 0
        }
    }
    return count


    // let count = 0
    // for(;x !==0;) {
    //     let digit = x % 10
    //     // (1/2/3/4/5/6/7/8/9) / 10 = 0
    //     // ~~取反
    //     x = ~~(x / 10)   
    //     debugger
    //     console.log('aaaaaaaaaaaaaaa', x)
    //     count = count * 10 + digit
    // }
    // if (count > (2**31) - 1) return 0
    // if (count < -(2**31)) return 0
    // return count
};

var answer = reverse2(-459)
console.log(answer)

</script>
</html>