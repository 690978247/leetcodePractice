<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
</body>
<script>
    /* 
        步骤
        1. 确定状态
        2. 找到转移方程
        3. 确定初始条件以及边界条件
        4. 计算结果
    */
// 双指针
var maxProfit = function(n) {
    let min = n[0]
    let maxProfit = 0
    for(let i = 1; i < n.length; i++) {
        min = Math.min(min, n[i])
        maxProfit = Math.max(n[i] - min, maxProfit)
    }
    return maxProfit
}

// 动态规划
var maxProfit2 = function(n) {
    let len = n.length
    let dp = new Array(n.length).fill(0).map(item => new Array(2).fill(0))
    dp[0][1] = -n[0]
    for(let i = 1; i < n.length; i++) {
        dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] + n[i]) 
        dp[i][1] = Math.max(dp[i - 1][1], -n[i])
    }
    console.log(dp)
    return dp[dp.length - 1][0]
};

var maxProfit3 = function(n) {
    let len = n.length
    let hold = -n[0] // 持有股票
    let noHold = 0  // 未持有股票
    for(let i = 0; i < n.length; i++) {
        noHold = Math.max(noHold, hold + n[i])
        hold = Math.max(hold, -n[i])
    }
    return noHold
}

var answer = maxProfit3([7,1,5,3,6,4])
console.log(answer)

</script>
</html>